
<!-- {{apiAemet|json}}
{{dataApi|json}} -->

<div class="container text-center" *ngFor="let datos of dataApi">
  <h1>{{datos?.nombre}} ({{datos?.provincia}}), {{datos?.id}}</h1>
  <!-- <iframe src="https://www.google.com/maps/embed?origin=mfe&pb=!1m13!1m8!1m3!1d197109.11833042419!2d-6.37121092!3d39.47316762!3m2!1i1024!2i768!4f13.1!2m1!1s39.4731676200,-6.3712109200!5e0!6i11"></iframe> -->
  <h3 class="italic">Predicción elaborada {{datos.elaborado | date: 'dd/MM/yyyy'}} </h3>
</div>

<div class="container container-cards">

    <div class="col-12" *ngFor="let day of dayData">
      <div class="card m-2">
        <div class="card-body text-center">
          <div class="row">
            <div class="col-4 my-auto">
              <h1 class="card-title">{{ day.fecha | date: 'EEEE - dd' : 'es' |titlecase }}</h1>
              <h2><span class="text-primary">{{day.temperatura.minima}}</span>/<span class="text-danger">{{day.temperatura.maxima}}</span> ºC</h2>
            </div>
            <div class="col-8">
              <img [src]="getBackgroundImage(day)" alt="" class="">
            </div>
          </div>

          <ul>
            <li>Probabilidad lluvia: {{day.probPrecipitacion[0].value}} %</li>
            <li>Temperatura máxima: {{ day.temperatura.maxima }}°C</li>
            <li>Temperatura mínima: {{ day.temperatura.minima }}°C</li>
            <li>Sensación térmica: {{day.sensTermica.maxima}}</li>
            <li>Sensación térmica: {{day.sensTermica.minima}}</li>
            <li>Índice ultravioleta máximo: {{day.uvMax}}</li>
          </ul>

          <table class="table table-sm table-striped w-100">
            <thead>
              <tr>
                <th>Periodo</th>
                <th>Prob. Precipitación</th>
                <th>Estado del Cielo</th>
                <th>Dirección Viento</th>
                <th>Velocidad Viento</th>
                <th>Temperatura</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let period of day.probPrecipitacion |slice: 0:4 ">

                <td>{{ period.periodo }}</td>
                <td>{{ period.value }}%</td>
                <td *ngFor="let period of day.estadoCielo |slice: 0:4">{{ period.descripcion }}</td>
                <td *ngFor="let period of day.viento |slice: 0:4">{{ period.direccion }}</td>
                <td *ngFor="let period of day.viento |slice: 0:4">{{ period.velocidad }} km/h</td>
                <td *ngFor="let period of day.temperatura.dato |slice: 0:4">{{ period.value }}ºC</td>

              </tr>
            </tbody>
          </table>




        </div>
      </div>
    </div>
  </div>



<div class="footer text-center">
  <p>© AEMET. Autorizado el uso de la información y su reproducción citando a AEMET como autora de la misma. </p>
</div>
