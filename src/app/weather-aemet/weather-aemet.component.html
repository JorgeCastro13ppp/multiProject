
<!-- {{apiAemet|json}}
{{dataApi|json}} -->

<div class="container text-center" *ngFor="let datos of dataApi">
  <h1>{{datos?.nombre}} ({{datos?.provincia}}), {{datos?.id}}</h1>
  <!-- <iframe src="https://www.google.com/maps/embed?origin=mfe&pb=!1m13!1m8!1m3!1d197109.11833042419!2d-6.37121092!3d39.47316762!3m2!1i1024!2i768!4f13.1!2m1!1s39.4731676200,-6.3712109200!5e0!6i11"></iframe> -->
  <h3 class="italic">Predicción elaborada {{datos.elaborado | date: 'dd/MM/yyyy'}} </h3>
</div>

<div class="container container-cards">

    <div class="col-12" *ngFor="let day of dayData; let i = index">
      <div class="card m-3">
        <div class="card-body ">
          <div class="row">
            <div class="col-4 align-items-start" id="imgDataWeather">

              <h1 class="card-title">{{ day.fecha | date: 'EEEE - dd' : 'es' |titlecase }}</h1>
              <hr>

              <h2 *ngIf="day.temperatura.dato[i]">
                <img src="../assets/weather-icons-master/design/fill/animation-ready/thermometer.svg">
                <span>{{day.temperatura.dato | temperaturaActual : horaActual}}</span> ºC
              </h2>
              <div class="row" id="temperature">
                <div class="col-6">
                  <h4>
                    <img src="../../assets/weather-icons-master/design/line/export/wi_thermometer-colder.svg" alt=""/>
                    <span class="text-primary">{{day.temperatura.minima}}</span> ºC <br/>
                  </h4>
                </div>
                <div class="col-6">
                  <h4>
                    <img src="../../assets/weather-icons-master/design/line/export/wi_thermometer-warmer.svg" alt="">
                    <span class="text-danger">{{day.temperatura.maxima}}</span> ºC <br/>
                  </h4>
                </div>
              </div>
              <hr>
              <div class="row text-center align-items-center" id="directionWind">
                <div class="col-6">
                  <img src="../../assets/weather-icons-master/design/line/animation-ready/windsock.svg" alt="">
                </div>
                <div class="col-6">
                  <span>{{day.viento[0].direccion}}</span>
                </div>
                <hr>
              </div>

              <h2 *ngIf="day.humedadRelativa.dato[i]">
                <img src="../../assets/weather-icons-master/design/fill/animation-ready/humidity.svg" alt=""/>
                <span>{{day.humedadRelativa.dato | humedadActual : horaActual}}</span> %
              </h2>
              <div class="row" id="humidity">
                <div class="col-6">
                  <h4>
                    <img src="../../assets/weather-icons-master/design/line/export/wi_humidity-min.svg" alt="" />
                    <span>{{day.humedadRelativa.minima}}</span> %
                  </h4>
                </div>
                <div class="col-6">
                  <h4>
                    <img src="../../assets/weather-icons-master/design/line/export/wi_humidity-max.svg" alt="" />
                  <span>{{day.humedadRelativa.maxima}}</span> %
                  </h4>
                </div>
              </div>
            </div>

            <div class="col-6" id="imgPrincipalWeather">
              <img [src]="getBackgroundImage(day)" alt="" class="">
            </div>
            <div class="col-2 text-center" id="imgSecondaryWeather">
                <img [src]="getUvSvg(day.uvMax)" alt=""/> <br/>
                <a href="https://espanol.epa.gov/espanol/escala-del-indice-uv">Escala del índice UV</a>
                <hr>
                <img [src]="getPrecipitationSvg(day.probPrecipitacion[0].value)" alt=""/> <br/>
                <h4><span [class]="getPrecipitationColor(day.probPrecipitacion[0].value)">{{day.probPrecipitacion[0].value}} </span>%
                </h4>
                <hr>
                <img [src]="getWindSvg(day.viento[0].velocidad)" alt=""> <br/>
                <h4><span>{{day.viento[0].velocidad}}</span> km/h</h4>

            </div>
          </div>



        </div>
      </div>
    </div>
  </div>



<div class="footer text-center">
  <p>© AEMET. Autorizado el uso de la información y su reproducción citando a AEMET como autora de la misma. </p>
</div>
